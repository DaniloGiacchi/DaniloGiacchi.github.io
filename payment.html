<html>
<head>
  <link rel="stylesheet" href="web.css">
</head>
<body class = "body_pay">
  <p class = "par_meth">Payment method</p>
  <div class = "list_method">
    <div class = "row">
      <img class = "method_image" src = "https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_111x69.jpg"  id ="paypal_image">
      <img class = "method_image" src = "https://www.hostmerchantservices.com/wp-content/uploads/2012/10/logo-Visa2.png" id = "visa_image">
      <img class = "method_image" src = "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Maestro_Logo.svg/2000px-Maestro_Logo.svg.png"id = "maestro_image">
      <img class = "method_image" src = "http://www.engage.it/wp-content/uploads/2014/02/mastercard1.gif" id = "mastercard_image">
      </img>
    </div>
  </div>
  <script>
  function validDate(dValue) {
      var result = false;
      dValue = dValue.split('/');
      var pattern = /^\d{2}$/;
      if (dValue[0] < 1 || dValue[0] > 12)
        result = true;
      if (!pattern.test(dValue[0]) || !pattern.test(dValue[1]))
        result = true;
      if (dValue[2])
        result = true;
      if (result){ alert("Please enter a valid date in MM/YY format."); return false;}else{return true;}

  }
  function validateEmail(emailField){
        var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
        if (reg.test(emailField) == false)
        {
            alert('Invalid Email Address');
            return false;
        }
        return true;
  }
  function submitPay(){
    if(document.getElementById('card_owner').value != "" &&
      !isNaN(document.getElementById('number_card').value) &&
      document.getElementById('number_card').value.length == 16 &&
      !isNaN(document.getElementById('cvc_card').value) &&
      document.getElementById('cvc_card').value.length == 3 &&
      validDate(document.getElementById('expiration_date_card').value) &&
      validateEmail(document.getElementById('email_card').value)){
                localStorage.setItem("card_owner_ls",document.getElementById('card_owner').value);
                localStorage.setItem("number_card_ls",document.getElementById('number_card').value);
                localStorage.setItem("cvc_ls",document.getElementById('cvc_card').value);
                localStorage.setItem("expiration_date_card_ls",document.getElementById('expiration_date_card').value);
                localStorage.setItem("email_card_ls",document.getElementById('email_card').value);
                alert("payment submitted succesfully");
                document.getElementById('form_of_pay').action = "index.html";
    }else{
      document.getElementById('form_of_pay').action = "payment.html";
    }
  }
  </script>
  <form action = "" target="_blank" id = "form_of_pay">
    <div class = "container_pay">
      <div class = "compilation_form">
        <p class = "text_lable" id ="par_name_owner">Name Owner</p>
        <input ="text" class = "text_compilation_form" id = "card_owner" value = "">
        <p class = "text_lable" id ="par_number_card">Number Card</p>
        <input ="text" class = "text_compilation_form" id = "number_card" value = "">
        <p class = "text_lable" id ="par_cvc_card">CVC</p>
        <input ="text" class = "text_compilation_form" id = "cvc_card" value = "">
        <p class = "text_lable" id ="par_expiration_card">Expiration</p>
        <input ="text" class = "text_compilation_form" id = "expiration_date_card" value = "">
        <p class = "text_lable" id ="par_email">Email (For confirmation)</p>
        <input ="text" class = "text_compilation_form" id = "email_card" value = ""></br>
        <input type ="submit" class = "button_compilation_form" id = "payment_button" value = "submit payment" onclick="submitPay();">
    </div>
  </div>
  </form>


</body>
</html>
